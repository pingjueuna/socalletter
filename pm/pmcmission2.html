<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LG SW PM Competition 2025 · 미션2 방탈출</title>
<link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;800&display=swap" rel="stylesheet" />
<style>
:root{
  --primary:#b80000; --ink:#1b1d21; --muted:#6b7280; --ok:#10893e; --card:#fff;
}
*{box-sizing:border-box}
body{
  margin:0; font-family:'Pretendard',system-ui,-apple-system,'Noto Sans KR',sans-serif; color:var(--ink);
  background:#f7f8fb;
}
 
/* 기본 숨김 처리 */
.hint{display:none; color:#374151; background:#fff; border:1px dashed #e5e7eb; border-radius:12px; padding:10px 12px; margin-top:10px}
 
.topbar{background:#fff; border-bottom:1px solid #eee;}
.topbar-inner{max-width:1100px; margin:0 auto; padding:10px 20px; display:flex; justify-content:space-between;}
.tabs{display:flex; gap:10px;}
.tab{padding:8px 14px; border-radius:999px; text-decoration:none; color:#333; font-weight:700;}
.tab.active{background:#b80000; color:#fff;}
 
.band{background:#b80000; color:#fff; text-align:center; padding:24px;}
.hero{text-align:center; margin:10px;}
.hero img{width:100%; max-width:900px; border-radius:20px;}
 
.progress{position:sticky; top:0; z-index:10; background:#fff; border-bottom:1px solid #eee;}
.progress-frame{max-width:980px; margin:0 auto; padding:10px;}
.progress-bar{height:8px; width:0%; background:linear-gradient(90deg, #b80000, #ff7a7a); border-radius:999px; transition:width .3s ease;}
 
.wrap{max-width:980px; margin:0 auto; padding:20px;}
.gate{background:#fff; border:1px solid #eee; border-radius:16px; padding:22px; margin-bottom:30px;}
.gate.locked::after{content:"🔒 잠김"; position:absolute; right:20px; bottom:10px; color:#999;}
 
.audio-box{background:#fff; border:1px dashed #e5e7eb; padding:10px; border-radius:12px; margin:10px 0;}
.audio-box audio{width:100%;}
 
.options{display:grid; gap:8px;}
.opt label{display:block; border:1px solid #ddd; border-radius:12px; padding:10px 12px; cursor:pointer;}
.opt input:checked + label{border-color:#b80000; background:#fff0f0;}
 
.actions{margin-top:12px;}
.btn{background:#b80000; color:#fff; border:none; padding:10px 16px; border-radius:999px; font-weight:700; cursor:pointer;}
 
.result-strip{position:sticky; bottom:0; background:#fff; border-top:1px solid #eee; text-align:center; padding:10px;}
.result-strip .pill{margin:0 8px;}
 
.modal{position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.3);}
.modal-card{background:#fff; border-radius:16px; padding:24px; text-align:center; width:min(420px,90vw);}
</style>
</head>
<body>
 
<!-- 맨 위: 브랜드 + 탭 -->
  <div class="topbar">
    <div class="topbar-inner">
      <a href="https://pingjueuna.github.io/socalletter/pm/pmcintro.html" class="logo">
      LG SW PM Competition 2025
    </a>
      <nav class="tabs">
        <a href="index.html" class="tab">Home</a>
        <a href="pmcintro.html" class="tab">PMC 소개</a>
        <a href="pmcmission1.html" class="tab">예선전 - 미션 1</a>
        <a href="pmcmission2.html" class="tab active">예선전 - 미션 2</a>
        <a href="pmcfinal.html" class="tab">본선</a>
      </nav>
    </div>
  </div>
 
<div class="band">
  <h1>예선 미션 2. 프로젝트 관리 ‘방 탈출’</h1>
  <p>PM의 판단력을 테스트합니다 🔥</p>
</div>
 
<div class="progress">
  <div class="progress-frame">
    <div id="bar" class="progress-bar"></div>
  </div>
</div>
 
<div class="hero">
  <img src="https://pingjueuna.github.io/socalletter/mission2.jpg" alt="Demon Hunters" />
</div>
 
<main class="wrap">
  <!-- GATE 1 -->
  <section id="gate1" class="gate">
    <div><b>Gate 1.</b> 듣기평가 · 임베디드 SW 초기회의</div>
    <h2>문제 1. 다음 대화를 듣고, PM의 핵심 관리 역량을 고르시오.</h2>
    <div class="audio-box">
      <audio controls src="https://pingjueuna.github.io/socalletter/pm/Gate1_Q2.mp3"></audio>
    </div>
    <div class="options">
      <div class="opt"><input id="g1a1" type="radio" name="g1" value="1"><label for="g1a1">요구사항 관리</label></div>
      <div class="opt"><input id="g1a2" type="radio" name="g1" value="2"><label for="g1a2">리스크 관리</label></div>
      <div class="opt"><input id="g1a3" type="radio" name="g1" value="3"><label for="g1a3">일정 관리</label></div>
      <div class="opt"><input id="g1a4" type="radio" name="g1" value="4"><label for="g1a4">이해관계자 참여 관리</label></div>
    </div>
    <div class="actions"><button class="btn" id="submitG1">제출</button></div>
    <div class="hint">정답 해설: 잠재 위험을 선제 식별·대응 → <b>리스크 관리</b>.</div>
  </section>
 
  <!-- GATE 2 -->
  <section id="gate2" class="gate locked" style="display:none;">
    <div><b>Gate 2.</b> Agile · Burndown & Gantt</div>
    <h2>문제 2. Burn-down이 추세선 위, Gantt의 QA는 초과. 타당한 해석은?</h2>
    <div class="options">
      <div class="opt"><input id="g2a1" type="radio" name="g2" value="1"><label for="g2a1">① 초기 지연은 정상</label></div>
      <div class="opt"><input id="g2a2" type="radio" name="g2" value="2"><label for="g2a2">② 기술부하 영향</label></div>
      <div class="opt"><input id="g2a3" type="radio" name="g2" value="3"><label for="g2a3">③ 개발 진척 저조 & QA 미착수 → 일정 위험</label></div>
      <div class="opt"><input id="g2a4" type="radio" name="g2" value="4"><label for="g2a4">④ 일정 위험과 무관</label></div>
    </div>
    <div class="actions"><button class="btn" id="submitG2">제출</button></div>
    <div class="hint">정답: Burndown 악화 + Gantt 지연 → <b>③ 일정 위험</b>.</div>
  </section>
 
  <!-- GATE 3 -->
  <section id="gate3" class="gate locked" style="display:none;">
    <div><b>Gate 3.</b> 변경관리 절차 순서</div>
    <h2>다음 절차를 올바른 순서로 배열하시오.</h2>
    <ol id="sortable" style="padding:0;list-style:none;">
      <li draggable="true" data-id="1">① 영향도 분석</li>
      <li draggable="true" data-id="2">② CCB 승인</li>
      <li draggable="true" data-id="3">③ 변경 요청 등록</li>
      <li draggable="true" data-id="4">④ 반영 및 공지</li>
    </ol>
    <div class="actions"><button class="btn" id="submitG3">최종 제출</button></div>
    <div class="hint">정답: <b>3 → 1 → 2 → 4</b></div>
  </section>
</main>
 
<div class="result-strip">
  <span class="pill">Gate1: <b id="s1">대기</b></span>
  <span class="pill">Gate2: <b id="s2">잠김</b></span>
  <span class="pill">Gate3: <b id="s3">잠김</b></span>
</div>
 
 <div id="success" class="modal">
    <div class="modal-card">
      <h3 class="ok">🎉 모든 관문 통과! 데몬 헌터스, 미션 클리어</h3>
      <p class="sub">세 문제 모두 정답입니다. PM의 정석 획득!🎁 </p>
      <button class="btn" id="againSuccess">다시 도전</button>
      <button class="btn" id="goHome" style="background:#111">본선 진출하기</button>
    </div>
  </div>
 
<div id="fail" class="modal">
  <div class="modal-card">
    <h3>❌ 오답!</h3>
    <button class="btn" id="againFail">다시 시도</button>
  </div>
</div>
 
<script>
document.addEventListener('DOMContentLoaded',()=>{
  const answers={g1:'2',g2:'3',g3:['3','1','2','4']};
  let currentGate=1,totalGates=3;
  const bar=document.getElementById('bar');
  const show=e=>e.style.display='block';
  const hide=e=>e.style.display='none';
  const unlock=e=>e.classList.remove('locked');
  const mark=(i,t,ok=false)=>{const e=document.getElementById('s'+i);e.textContent=t;e.style.color=ok?'#10893e':(t==='오답'?'#b80000':'');};
  const updateBar=()=>bar.style.width=((currentGate-1)/totalGates*100)+'%';
  updateBar();
 
  document.getElementById('submitG1').addEventListener('click',()=>{
    const c=document.querySelector('input[name="g1"]:checked');
    if(!c){alert('보기를 선택하세요.');return;}
    if(c.value===answers.g1){
      mark(1,'통과',true);
      document.querySelector('#gate1 .hint').style.display='block';
      const g2=document.getElementById('gate2');
      show(g2);unlock(g2);mark(2,'대기');currentGate=2;updateBar();
      g2.scrollIntoView({behavior:'smooth'});
    }else{mark(1,'오답');document.getElementById('fail').style.display='grid';}
  });
 
  document.getElementById('submitG2').addEventListener('click',()=>{
    const c=document.querySelector('input[name="g2"]:checked');
    if(!c){alert('보기를 선택하세요.');return;}
    if(c.value===answers.g2){
      mark(2,'통과',true);
      document.querySelector('#gate2 .hint').style.display='block';
      const g3=document.getElementById('gate3');
      show(g3);unlock(g3);mark(3,'대기');currentGate=3;updateBar();
      g3.scrollIntoView({behavior:'smooth'});
    }else{mark(2,'오답');document.getElementById('fail').style.display='grid';}
  });
 
  const list=document.getElementById('sortable');
  let dragging=null;
  list.addEventListener('dragstart',e=>{if(e.target.tagName==='LI'){dragging=e.target;e.target.classList.add('dragging');}});
  list.addEventListener('dragend',()=>{if(dragging){dragging.classList.remove('dragging');dragging=null;}});
  list.addEventListener('dragover',e=>{
    e.preventDefault();
    const after=getAfter(list,e.clientY);
    const d=document.querySelector('.dragging');
    if(!d)return;
    if(!after)list.appendChild(d);else list.insertBefore(d,after);
  });
  function getAfter(c,y){
    const els=[...c.querySelectorAll('li:not(.dragging)')];
    return els.reduce((closest,child)=>{
      const box=child.getBoundingClientRect();
      const offset=y-box.top-box.height/2;
      if(offset<0&&offset>closest.offset)return{offset,element:child};
      else return closest;
    },{offset:Number.NEGATIVE_INFINITY}).element;
  }
  document.getElementById('submitG3').addEventListener('click',()=>{
    const order=[...list.querySelectorAll('li')].map(li=>li.dataset.id);
    if(JSON.stringify(order)===JSON.stringify(answers.g3)){
      mark(3,'통과',true);
      document.querySelector('#gate3 .hint').style.display='block';
      document.getElementById('success').style.display='grid';
    }else{mark(3,'오답');document.getElementById('fail').style.display='grid';}
  });
  document.getElementById('againSuccess').addEventListener('click',()=>location.reload());
  document.getElementById('againFail').addEventListener('click',()=>document.getElementById('fail').style.display='none');
});
</script>
 
</body>
</html>
